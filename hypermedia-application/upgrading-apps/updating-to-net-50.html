<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Updating to .Net 5.0</title>
    <link rel="stylesheet" href="/HypermediaDocs/lib/bootstrap/dist/css/bootstrap-darkly.css?linkver=20220315053032" type="text/css">

</head>

<body>

    <nav class="navbar navbar-dark bg-dark" data-hr-run="node_modules/editymceditface.client/Views/default">
        <button class="navbar-toggler" type="button" data-target="#sidebar" data-toggle="sidebar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <a class="navbar-brand" href="/HypermediaDocs/">Threax Hypermedia Framework and Architecture</a>
    </nav>

    <div id="wrapper">
        <!-- Sidebar -->
        <div id="sidebar">
            <div class="mainTreeMenu" data-hr-controller="treeMenu" data-hr-config-urlroot="/HypermediaDocs/" data-hr-config-menu="/HypermediaDocs/menus/mainMenu.json" data-hr-config-scrollelement="#sidebar-wrapper" data-hr-model-component="sidebarMenuComponent" data-hr-config-treemenu-version="7E746E8FAEA9C41BEB5377766F923D0C20EB8BA86FCA4442422FB2119DC6B531">
                <ul class="sidebarMenu" data-hr-model="childItems" data-hr-model-component="sidebarMenuComponent">
                    <template data-hr-component="sidebarMenuComponent">
                        <li class="folder">
                            <div class="item" data-hr-on-click="toggleMenuItem" data-hr-toggle="current" data-hr-class-on="currentFolder"><span data-hr-toggle="children" class="glyphicon" data-hr-class-on="glyphicon-folder-open" data-hr-class-off="glyphicon-folder-close"></span> {{name}}</div>
                            <div class="children" data-hr-model="children" data-hr-model-component="sidebarMenuComponent" data-hr-toggle="children" data-hr-class-on="expanded" data-hr-style-off="display:none;"></div>
                        </li>
                    </template>
                    <template data-hr-variant="link">
                        <li class="link">
                            <a href="{{urlRoot}}{{link}}" target="{{target}}">
                                <div class="mainBlock" data-hr-toggle="current" data-hr-class-on="currentLink">
                                    {{name}}
                                </div>
                            </a>
                        </li>
                    </template>
                    <template data-hr-variant="root">
                        <div class="children" data-hr-model="children" data-hr-model-component="sidebarMenuComponent" data-hr-toggle="children" data-hr-class-on="expanded" data-hr-style-off="display:none;"></div>
                    </template>
                </ul>
            </div>
        </div>

        <!-- Page Content -->
        <div id="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12 pageContent">
                        <h1>Updating to .Net 5.0</h1>
<p>Updating to .Net 5.0 is the easiest so far since .Net Core came out.</p>
<h3>Update CSProj</h3>
<p>Change target framework to net5.0</p>
<p><code>&lt;TargetFramework&gt;net5.0&lt;/TargetFramework&gt;</code></p>
<h3>Update Nuget Packages</h3>
<p>Update all Microsoft Nuget packages to 5.0 or higher.</p>
<h3>Update Dockerfile</h3>
<p>Update the runtime image</p>
<p><code>FROM mcr.microsoft.com/dotnet/aspnet:5.0 AS base</code></p>
<p>Update the build image</p>
<p><code>FROM threax/build-dotnet:5.0 AS build</code></p>
<p>Finally change the local packages cache. Find all the .net cache mount points and remove the 310. There is no real reason to specify a version number here. Look for lines with the following:</p>
<p><code>mount=type=cache,target=/root/.nuget/packages,id=threax-build-dotnet-<strong>310-</strong>nuget dotnet</code></p>
<p>and drop the bolded <strong>310-</strong></p>
<p><code>mount=type=cache,target=/root/.nuget/packages,id=threax-build-dotnet-nuget dotnet</code></p>
<p>make sure to leave the rest of the line alone.</p>
<h3>Finished</h3>
<p>This should complete the upgrade to .Net 5.0. This was by far the easiest .Net Core series update that has come out and was way more like older .Net Framework updates vs having to go rewrite a bunch of code. Here we didn&#39;t even have to touch Startup.cs. Hopefully this is the new normal.</p>
                        <div class="footer"></div>
                    </div>
                </div>
                <div class="footer-padding"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="/HypermediaDocs/lib/tslib.js?linkver=20220315053032"></script>
<script type="text/javascript" src="/HypermediaDocs/lib/jquery/dist/jquery.min.js?linkver=20220315053032"></script>
<script type="text/javascript" src="/HypermediaDocs/lib/popper.js/dist/popper.min.js?linkver=20220315053032"></script>
<script type="text/javascript" src="/HypermediaDocs/lib/bootstrap/dist/js/bootstrap.min.js?linkver=20220315053032"></script>
<script type="text/javascript" src="/HypermediaDocs/lib/tsbin.prod.js?linkver=20220315053032"></script>
<script type="text/javascript" src="/HypermediaDocs/lib/jsns/runattributes.js?linkver=20220315053032"></script>

</body>

</html>